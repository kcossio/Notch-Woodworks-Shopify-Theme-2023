{{ 'section-hero-banner.css' | asset_url | stylesheet_tag }}

{%- # Label: Associated Product -%}
{%- assign associated_product = section.settings.associated_product -%}

{%- if section.settings.associated_product == product.handle -%}

{%- # Label: Banner Image -%}
{%- assign banner_image = section.settings.banner_image -%}
{{ banner_image | image_url: width: banner_image.width | image_tag: class: 'bg', sizes: '100vw', loading: 'lazy' }}

{%- endif -%}
{% schema %}
  {
  "name": "Product Hero Banner",
  "class": "section section-hero-banner has-bg",
  "tag": "section",
  "settings": [
    {
      "type": "product",
      "id": "associated_product",
      "label": "Associated Product",
      "info": "Choose a Product that this banner will be associated with. If no product is selected, this will appear on all products."
    },
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "Banner Image",
      "info": "Upload an image to use as a banner"
    }
  ],
  "presets": [
    {
      "name": "Product Hero Banner"
    }
  ]
}  
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}